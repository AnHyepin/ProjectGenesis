<!DOCTYPE html>
<html
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout-test/layout}">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="/static/css/jeyeon/applicationDetail.css" />
    <title>Application Detail</title>
</head>
<body layout:fragment="content">
<div class="applicationDetail">
    <div class="container">
        <div class="job-posting">
            <header class="job-header">
                <div class="flex-box">
                    <span class="company-name">[[${companyResponse.name}]]</span>
                    <button type="button" class="subscribeBtn"><i class="bi bi-bookmark"></i>구독기업</button>
                </div>
                <h1> <span class="job-title">[[${applicationResponse.applicationTitle}]]</span></h1>

                <div class="company-management-btn">
                    <button type="button" class="jobBtn resume-listBtn" >지원이력서 보기</button>
                    <button type="button" class="jobBtn updateBtn">수정</button>
                    <button type="button" class="jobBtn deleteBtn">삭제</button>
                </div>

            </header>

            <section class="job-detail">
                <div class="job-summary">
                    <div class="label">경력</div>
                    <div class="value" th:text="${applicationResponse.careerCode == 'G' ? '경력' :
                                    (applicationResponse.careerCode == 'S' ? '신입' : '신입/경력')}"></div>

                    <div class="label">급여</div>
                    <div class="value" th:text="${applicationResponse.salary == 0 ? '면접 후 결정' : applicationResponse.salary + '만원'}"></div>

                    <th:block th:if="${applicationResponse.educationGbnCode != null}">
                        <div class="label">학력</div>
                        <div th:if="${applicationResponse.educationGbnCode == 'H'}">고등학교 졸업</div>
                        <div th:if="${applicationResponse.educationGbnCode == 'U3'}">대학(2,3년)</div>
                        <div th:if="${applicationResponse.educationGbnCode == 'U4'}">대학교(4년)</div>
                        <div th:if="${applicationResponse.educationGbnCode == 'S'}">대학원(석사)</div>
                        <div th:if="${applicationResponse.educationGbnCode == 'D'}">박사</div>
                    </th:block>

                    <th:block th:if="${applicationResponse.positionCode != null}">
                        <div class="label">직급/직책</div>
                        <div th:if="${applicationResponse.positionCode == 'D'}">대리</div>
                        <div th:if="${applicationResponse.positionCode == 'S'}">사원</div>
                        <div th:if="${applicationResponse.positionCode == 'J'}">주임</div>
                        <div th:if="${applicationResponse.positionCode == 'T'}">팀장</div>
                    </th:block>

                    <div class="label">근무형태</div>
                    <div class="value" th:text="${applicationResponse.employmentCode == 'A' ? '계약/정규직' :
                                    (applicationResponse.employmentCode == 'C' ? '계약직' : '정규직')}"></div>
                </div>
            </section>

            <section class="user-management-btn">
                <button type="button" class="jobBtn likeBtn"><i class="bi bi-heart"></i>21</button>
                <button type="button" class="jobBtn applyBtn">입사지원</button>
            </section>

            <section class="job-slider">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        <th:block th:if="${#lists.isEmpty(fileList)}">
                            <img src="/static/img/img_default_gonggo.png">
                        </th:block>

                        <th:block th:if="${!#lists.isEmpty(fileList)}" th:each="file, status : ${fileList}">
                            <img th:src="${file.fileUrl}"
                                 th:alt="'job Image ' + ${status.count}"
                                 class="swiper-slide">
                        </th:block>


                    </div>

                    <!-- 내비게이션 버튼 -->
                    <button type="button" aria-label="Previous" class="prevBtn" id="prevBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 40 40">
                            <path stroke="#ffffff" d="M39.5 20c0 10.77-8.73 19.5-19.5 19.5S.5 30.77.5 20 9.23.5 20 .5 39.5 9.23 39.5 20Z"></path>
                            <path fill="#ffffff" d="M23.09 26.84a.833.833 0 0 1-1.179 0l-6.25-6.25a.833.833 0 0 1 0-1.18l6.25-6.25a.833.833 0 0 1 1.179 1.18L17.43 20l5.66 5.66a.833.833 0 0 1 0 1.18Z"></path>
                        </svg>
                    </button>

                    <button type="button" aria-label="Next" class="nextBtn" id="nextBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 40 40">
                            <path stroke="#ffffff" d="M39.5 20c0 10.77-8.73 19.5-19.5 19.5S.5 30.77.5 20 9.23.5 20 .5 39.5 9.23 39.5 20Z"></path>
                            <path fill="#ffffff" d="M16.911 13.16a.833.833 0 0 1 1.179 0l6.25 6.25a.833.833 0 0 1 0 1.18l-6.25 6.25a.833.833 0 1 1-1.179-1.18l5.66-5.66-5.66-5.66a.833.833 0 0 1 0-1.18Z"></path>
                        </svg>
                    </button>
                </div>
            </section>

            <section class="job-requirements">
                <div class="flex-box">
                    <div class="check"><i class="bi bi-check-lg"></i></div><h2>모집부문 및 상세내용</h2>
                </div>

                <div class="job-content" th:utext="${content}"></div>
            </section>

            <section class="job-stack">
                <div class="flex-box">
                    <div class="check"><i class="bi bi-check-lg"></i></div><h2>요구 스킬</h2>
                </div>
                <th:block th:if="${!#lists.isEmpty(skillList)}" th:each="skill : ${skillList}">
                    <div class="green-box">
                        [[${skill.stackCode}]]
                    </div>
                </th:block>
            </section>

            <section class="process-steps" th:if="${applicationResponse.procedureCode != null}">
                <div class="flex-box">
                    <div class="check"><i class="bi bi-check-lg"></i></div><h2>진행단계</h2>
                </div>
            </section>

            <section class="job-map">
                <div class="flex-box">
                    <div class="check"><i class="bi bi-check-lg"></i></div><h2>근무 지역</h2>
                </div>
                <div class="job-content">
                    <ul>
                        <li>[[${applicationResponse.workingArea}]]</li>
                    </ul>
                </div>
            </section>

            <section class="job-notice">
                <div class="flex-box">
                    <div class="check"><i class="bi bi-check-lg"></i></div><h2>유의사항</h2>
                </div>
                <div class="job-content">
                    <ul>
                        <li>입사지원 서류에 허위사실이 발견된 경우, 채용확정 이후라도 채용이 취소될 수 있습니다.</li>
                    </ul>
                </div>
            </section>

            <section class="company-info">
               <h2>회사 정보</h2>

                <ul>
                    <li>산업분야: IT</li>
                    <li>기업규모: 중견기업</li>
                    <li>근무형태: 정규직</li>
                </ul>
            </section>

            <footer class="related-posts">
                <h3>관련 채용 공고</h3>
                <div class="related-item">관련 공고 1</div>
                <div class="related-item">관련 공고 2</div>
            </footer>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<script>
    const swiper = new Swiper('.swiper-container', {
        loop: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        speed: 600,
        navigation: {
            nextEl: '#nextBtn',  // 우측 버튼
            prevEl: '#prevBtn',  // 좌측 버튼
        },
    });
</script>
</body>
</html>